{"ast":null,"code":"import { getRangeMax } from \"@tsparticles/engine\";\nimport { PoissonDisc } from \"./PoissonDisc.js\";\nexport class PoissonInstance {\n  constructor(container, engine) {\n    this._container = container;\n    this._engine = engine;\n    this._currentIndex = 0;\n  }\n  async init() {\n    await this._initData();\n  }\n  particlePosition(position) {\n    const container = this._container,\n      options = container.actualOptions.poisson;\n    if (!this.poissonDisc || !(options?.enable ?? false) || this._currentIndex >= this.poissonDisc.points.length) {\n      return;\n    }\n    return position ?? this.poissonDisc?.points[this._currentIndex++]?.position;\n  }\n  resize() {\n    const container = this._container,\n      options = container.actualOptions.poisson;\n    if (!(options?.enable ?? false)) {\n      return;\n    }\n    if (this.redrawTimeout) {\n      clearTimeout(this.redrawTimeout);\n    }\n    const timeout = 250;\n    this.redrawTimeout = setTimeout(() => {\n      void (async () => {\n        await this._initData();\n        await container.particles.redraw();\n      })();\n    }, timeout);\n  }\n  stop() {\n    delete this.poissonDisc;\n  }\n  async _initData() {\n    const container = this._container,\n      poissonOptions = container.actualOptions.poisson,\n      particlesOptions = container.actualOptions.particles,\n      canvasSize = container.canvas.size,\n      pixelRatio = container.retina.pixelRatio;\n    if (!poissonOptions?.enable) {\n      return;\n    }\n    this._currentIndex = 0;\n    this.poissonDisc = new PoissonDisc(canvasSize, poissonOptions.radius ? poissonOptions.radius * pixelRatio : Math.max(getRangeMax(particlesOptions.size.value) * pixelRatio, Math.sqrt(canvasSize.width * canvasSize.height / particlesOptions.number.value)), poissonOptions.retries, poissonOptions.dimensions);\n    const noSteps = 0;\n    if (poissonOptions.steps > noSteps) {\n      await this.poissonDisc.steps(poissonOptions.steps);\n    } else {\n      await this.poissonDisc.run();\n    }\n  }\n}","map":{"version":3,"names":["getRangeMax","PoissonDisc","PoissonInstance","constructor","container","engine","_container","_engine","_currentIndex","init","_initData","particlePosition","position","options","actualOptions","poisson","poissonDisc","enable","points","length","resize","redrawTimeout","clearTimeout","timeout","setTimeout","particles","redraw","stop","poissonOptions","particlesOptions","canvasSize","canvas","size","pixelRatio","retina","radius","Math","max","value","sqrt","width","height","number","retries","dimensions","noSteps","steps","run"],"sources":["/Users/nyanaung/repos/portfolio/node_modules/@tsparticles/plugin-poisson-disc/browser/PoissonInstance.js"],"sourcesContent":["import { getRangeMax } from \"@tsparticles/engine\";\nimport { PoissonDisc } from \"./PoissonDisc.js\";\nexport class PoissonInstance {\n    constructor(container, engine) {\n        this._container = container;\n        this._engine = engine;\n        this._currentIndex = 0;\n    }\n    async init() {\n        await this._initData();\n    }\n    particlePosition(position) {\n        const container = this._container, options = container.actualOptions.poisson;\n        if (!this.poissonDisc || !(options?.enable ?? false) || this._currentIndex >= this.poissonDisc.points.length) {\n            return;\n        }\n        return position ?? this.poissonDisc?.points[this._currentIndex++]?.position;\n    }\n    resize() {\n        const container = this._container, options = container.actualOptions.poisson;\n        if (!(options?.enable ?? false)) {\n            return;\n        }\n        if (this.redrawTimeout) {\n            clearTimeout(this.redrawTimeout);\n        }\n        const timeout = 250;\n        this.redrawTimeout = setTimeout(() => {\n            void (async () => {\n                await this._initData();\n                await container.particles.redraw();\n            })();\n        }, timeout);\n    }\n    stop() {\n        delete this.poissonDisc;\n    }\n    async _initData() {\n        const container = this._container, poissonOptions = container.actualOptions.poisson, particlesOptions = container.actualOptions.particles, canvasSize = container.canvas.size, pixelRatio = container.retina.pixelRatio;\n        if (!poissonOptions?.enable) {\n            return;\n        }\n        this._currentIndex = 0;\n        this.poissonDisc = new PoissonDisc(canvasSize, poissonOptions.radius\n            ? poissonOptions.radius * pixelRatio\n            : Math.max(getRangeMax(particlesOptions.size.value) * pixelRatio, Math.sqrt((canvasSize.width * canvasSize.height) / particlesOptions.number.value)), poissonOptions.retries, poissonOptions.dimensions);\n        const noSteps = 0;\n        if (poissonOptions.steps > noSteps) {\n            await this.poissonDisc.steps(poissonOptions.steps);\n        }\n        else {\n            await this.poissonDisc.run();\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}