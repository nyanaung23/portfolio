{"ast":null,"code":"import { errorPrefix, isNumber } from \"@tsparticles/engine\";\nconst origin = {\n    x: 0,\n    y: 0\n  },\n  minWidth = 0;\nexport function getCanvasImageData(ctx, size, offset, clear = true) {\n  const imageData = ctx.getImageData(origin.x, origin.y, size.width, size.height).data;\n  if (clear) {\n    ctx.clearRect(origin.x, origin.y, size.width, size.height);\n  }\n  const pixels = [];\n  for (let i = 0; i < imageData.length; i += offset) {\n    const idx = i / offset,\n      pos = {\n        x: idx % size.width,\n        y: Math.floor(idx / size.width)\n      };\n    if (!pixels[pos.y]) {\n      pixels[pos.y] = [];\n    }\n    const indexesOffset = {\n        r: 0,\n        g: 1,\n        b: 2,\n        a: 3\n      },\n      alphaFactor = 255;\n    pixels[pos.y][pos.x] = {\n      r: imageData[i + indexesOffset.r],\n      g: imageData[i + indexesOffset.g],\n      b: imageData[i + indexesOffset.b],\n      a: imageData[i + indexesOffset.a] / alphaFactor\n    };\n  }\n  return {\n    pixels,\n    width: Math.min(...pixels.map(row => row.length)),\n    height: pixels.length\n  };\n}\nexport function getImageData(src, offset) {\n  const image = new Image();\n  image.crossOrigin = \"Anonymous\";\n  const p = new Promise((resolve, reject) => {\n    image.onerror = reject;\n    image.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      const context = canvas.getContext(\"2d\");\n      if (!context) {\n        return reject(new Error(`${errorPrefix} Could not get canvas context`));\n      }\n      context.drawImage(image, origin.x, origin.y, image.width, image.height, origin.x, origin.y, canvas.width, canvas.height);\n      resolve(getCanvasImageData(context, canvas, offset));\n    };\n  });\n  image.src = src;\n  return p;\n}\nexport function getTextData(textOptions, offset, fill) {\n  const canvas = document.createElement(\"canvas\"),\n    context = canvas.getContext(\"2d\"),\n    {\n      font,\n      text,\n      lines: linesOptions,\n      color\n    } = textOptions;\n  if (!text || !context) {\n    return;\n  }\n  const lines = text.split(linesOptions.separator),\n    fontSize = isNumber(font.size) ? `${font.size}px` : font.size,\n    linesData = [];\n  let maxWidth = 0,\n    totalHeight = 0;\n  for (const line of lines) {\n    context.font = `${font.style || \"\"} ${font.variant || \"\"} ${font.weight || \"\"} ${fontSize} ${font.family}`;\n    const measure = context.measureText(line),\n      lineData = {\n        measure,\n        text: line,\n        height: measure.actualBoundingBoxAscent + measure.actualBoundingBoxDescent,\n        width: measure.width\n      };\n    maxWidth = Math.max(maxWidth || minWidth, lineData.width);\n    totalHeight += lineData.height + linesOptions.spacing;\n    linesData.push(lineData);\n  }\n  canvas.width = maxWidth;\n  canvas.height = totalHeight;\n  let currentHeight = 0;\n  for (const line of linesData) {\n    context.font = `${font.style || \"\"} ${font.variant || \"\"} ${font.weight || \"\"} ${fontSize} ${font.family}`;\n    if (fill) {\n      context.fillStyle = color;\n      context.fillText(line.text, origin.x, currentHeight + line.measure.actualBoundingBoxAscent);\n    } else {\n      context.strokeStyle = color;\n      context.strokeText(line.text, origin.x, currentHeight + line.measure.actualBoundingBoxAscent);\n    }\n    currentHeight += line.height + linesOptions.spacing;\n  }\n  return getCanvasImageData(context, canvas, offset);\n}","map":{"version":3,"names":["errorPrefix","isNumber","origin","x","y","minWidth","getCanvasImageData","ctx","size","offset","clear","imageData","getImageData","width","height","data","clearRect","pixels","i","length","idx","pos","Math","floor","indexesOffset","r","g","b","a","alphaFactor","min","map","row","src","image","Image","crossOrigin","p","Promise","resolve","reject","onerror","onload","canvas","document","createElement","context","getContext","Error","drawImage","getTextData","textOptions","fill","font","text","lines","linesOptions","color","split","separator","fontSize","linesData","maxWidth","totalHeight","line","style","variant","weight","family","measure","measureText","lineData","actualBoundingBoxAscent","actualBoundingBoxDescent","max","spacing","push","currentHeight","fillStyle","fillText","strokeStyle","strokeText"],"sources":["/Users/nyanaung/repos/portfolio/node_modules/@tsparticles/plugin-emitters-shape-canvas/browser/utils.js"],"sourcesContent":["import { errorPrefix, isNumber } from \"@tsparticles/engine\";\nconst origin = {\n    x: 0,\n    y: 0,\n}, minWidth = 0;\nexport function getCanvasImageData(ctx, size, offset, clear = true) {\n    const imageData = ctx.getImageData(origin.x, origin.y, size.width, size.height).data;\n    if (clear) {\n        ctx.clearRect(origin.x, origin.y, size.width, size.height);\n    }\n    const pixels = [];\n    for (let i = 0; i < imageData.length; i += offset) {\n        const idx = i / offset, pos = {\n            x: idx % size.width,\n            y: Math.floor(idx / size.width),\n        };\n        if (!pixels[pos.y]) {\n            pixels[pos.y] = [];\n        }\n        const indexesOffset = {\n            r: 0,\n            g: 1,\n            b: 2,\n            a: 3,\n        }, alphaFactor = 255;\n        pixels[pos.y][pos.x] = {\n            r: imageData[i + indexesOffset.r],\n            g: imageData[i + indexesOffset.g],\n            b: imageData[i + indexesOffset.b],\n            a: imageData[i + indexesOffset.a] / alphaFactor,\n        };\n    }\n    return {\n        pixels,\n        width: Math.min(...pixels.map(row => row.length)),\n        height: pixels.length,\n    };\n}\nexport function getImageData(src, offset) {\n    const image = new Image();\n    image.crossOrigin = \"Anonymous\";\n    const p = new Promise((resolve, reject) => {\n        image.onerror = reject;\n        image.onload = () => {\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = image.width;\n            canvas.height = image.height;\n            const context = canvas.getContext(\"2d\");\n            if (!context) {\n                return reject(new Error(`${errorPrefix} Could not get canvas context`));\n            }\n            context.drawImage(image, origin.x, origin.y, image.width, image.height, origin.x, origin.y, canvas.width, canvas.height);\n            resolve(getCanvasImageData(context, canvas, offset));\n        };\n    });\n    image.src = src;\n    return p;\n}\nexport function getTextData(textOptions, offset, fill) {\n    const canvas = document.createElement(\"canvas\"), context = canvas.getContext(\"2d\"), { font, text, lines: linesOptions, color } = textOptions;\n    if (!text || !context) {\n        return;\n    }\n    const lines = text.split(linesOptions.separator), fontSize = isNumber(font.size) ? `${font.size}px` : font.size, linesData = [];\n    let maxWidth = 0, totalHeight = 0;\n    for (const line of lines) {\n        context.font = `${font.style || \"\"} ${font.variant || \"\"} ${font.weight || \"\"} ${fontSize} ${font.family}`;\n        const measure = context.measureText(line), lineData = {\n            measure,\n            text: line,\n            height: measure.actualBoundingBoxAscent + measure.actualBoundingBoxDescent,\n            width: measure.width,\n        };\n        maxWidth = Math.max(maxWidth || minWidth, lineData.width);\n        totalHeight += lineData.height + linesOptions.spacing;\n        linesData.push(lineData);\n    }\n    canvas.width = maxWidth;\n    canvas.height = totalHeight;\n    let currentHeight = 0;\n    for (const line of linesData) {\n        context.font = `${font.style || \"\"} ${font.variant || \"\"} ${font.weight || \"\"} ${fontSize} ${font.family}`;\n        if (fill) {\n            context.fillStyle = color;\n            context.fillText(line.text, origin.x, currentHeight + line.measure.actualBoundingBoxAscent);\n        }\n        else {\n            context.strokeStyle = color;\n            context.strokeText(line.text, origin.x, currentHeight + line.measure.actualBoundingBoxAscent);\n        }\n        currentHeight += line.height + linesOptions.spacing;\n    }\n    return getCanvasImageData(context, canvas, offset);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}